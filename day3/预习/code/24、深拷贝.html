<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>

	<script type="text/javascript">
		// 深拷贝：所有层都拷贝下来
		let a = {
			uname : '张三丰',
			age : 22,
			sex : '男',
			color : ['red', 'blue', 'yellow', 'pink'],
			message : {
				index : 3,
				score : 99
			}
		}
		let b = {};

		function kaobei (newObj, obj) {
			for (let key in obj) {
				// obj[key]有可能是数组，有可能是，有简单类型
				if ( obj[key] instanceof Array ) { // obj[key]是数组
					newObj[key] = [];

					kaobei(newObj[key], obj[key]);
				} else if ( obj[key] instanceof Object ) {// obj[key]是对象
					newObj[key] = {};

					kaobei(newObj[key], obj[key]);
				} else {
					newObj[key] = obj[key];
				}
			}
		}

		kaobei(b, a);

		a.message.index = 666;

		console.log(a, b)

	</script>
	
</body>
</html>